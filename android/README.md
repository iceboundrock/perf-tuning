#Android App崩溃解决和性能调优总结

##崩溃问题

###见招拆招vs打破沙锅问到底

修复Java崩溃往往是很相对简单的工作，因为崩溃系统里通常会记录下比较消息的调用栈。通过异常类型和调用栈基本就可以定位到出现问题的位置，有时候在出现问题的位置简单的加上try/catch就可以解决崩溃。但是，这样真的解决问题了么？未必。

*一个StackOverflow Exception*

在处理崩溃时遇到过一个StackOverflow问题



###一些常见的造成崩溃的坑和避免方法

* NPE

    Null Pointer Exception可能是我们日常工作中遇到的最多的异常问题，解决此问题非常简单直接，只要防御对象引用为null即可。但是并没有什么完美的办法，但是我们可以在工作中

* 异步处理结束时不判断回掉中使用对象的状态

* OOM


###一些解决崩溃的技巧

1. 使用retrace来恢复混淆过的调用栈
2. 使用这个脚本来分析ANR trace

```

grep  "waiting on <" traces.txt  | sort | uniq -c 
grep  "locked <" traces.txt  | sort | uniq -c 

```
    
##性能调优

兵法讲究攻心为上，攻城为下，性能调优亦是如此。在做性能优化时不要拘泥于技术层面，从产品层面优化往往有更加突出的效果。本文的讨论集中

###调优方法论

调优与其他事情类似，需要明确的目标才能收到效果。所以我们要先收集数据，再进行优化。没有数据依据的优化都是耍流氓。对于Android App，尤其是ME这种直播类App，我们最关心的指标只有一个：帧率。通常我们认为App的帧率保持在60FPS才是流畅的，如何让App的帧率保持在60FPS以上是我们优化ME的重中之重。
当然App还有其他性能指标，包括：

* CPU占用率
* GC频率
* 内存占用




*App调优的思维方式*

App调优与

App性能调优在某些方面


*优化RecyclerView*

尽量避免刷新

减少刷新

*优化动画*

安卓为我们提供了多种实现动画的方式，每种都有各自的优缺点。在ME优化过程中对动画做了一些优化，下面列举一些我们的实践供大家参考：

*优化逻辑*

当我们


1. 使用

###调优工具介绍

经验很重要，但是经验不能代替工具。Android性能分析工具

1. Android Studio 2.0。Android Stuido不仅仅是开发工具，开发者还可以在Android Studio中非常方便的收集性能数据。
2. Android手机自带的开发者工具

    2.1 
   
3. DDMS
4. 


###一些调优经验

*内存优化*

使用对象池避免无谓的分配


*卡顿、掉帧*

*高CPU*




##所有问题的终极解决之道

#READ THE FXXKING CODE